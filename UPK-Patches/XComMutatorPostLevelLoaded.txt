MOD_NAME=XCOM Mutator Post Level Loaded
AUTHOR=wghost81 aka Wasteland Ghost
DESCRIPTION=Inserts a Mutator call into XGBattle_SP.PostLevelLoaded function, allows post-load modifications when loading from Strategic layer

Version: 1.0

Compatible with XCOM Enemy Within versions:
 - all

UPK_FILE=XComGame.upk

OBJECT=XGBattle_SP.PostLevelLoaded:AUTO
ALIAS=DebugLog:19 2E <Class.XComOnlineEventMgr> 19 2E <Engine.GameEngine> 12 20 <Engine.Engine> 0A 00 <Engine.Engine.GetEngine.ReturnValue> 00 1C <Engine.Engine.GetEngine> 16 09 00 <Engine.GameEngine.OnlineEventManager> 00 01 <Engine.GameEngine.OnlineEventManager> FF 00 <NullRef> 00 1B <DevOnlineMsg>
[REPLACEMENT_CODE]
//super.PostLevelLoaded()
1C <XGBattle.PostLevelLoaded> 16

<!DebugLog> 1F <%t "XGBattle_SP.PostLevelLoaded: Processing Mutators"> 16
//if(class'Engine'.static.GetCurrentWorldInfo().Game.BaseMutator != none)
07 [@label1] 77 19
19 12 20 <Engine.Engine> 0A 00 <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 1C <Engine.Engine.GetCurrentWorldInfo> 16 09 00 <Engine.WorldInfo.Game> 00 01 <Engine.WorldInfo.Game>
09 00 <Engine.GameInfo.BaseMutator> 00 01 <Engine.GameInfo.BaseMutator>
2A 16
<!DebugLog> 1F <%t "XGBattle_SP.PostLevelLoaded: Found BaseMutator"> 16
//class'Engine'.static.GetCurrentWorldInfo().Game.BaseMutator.Mutate("XGBattle_SP.PostLevelLoaded", WorldInfo.GetALocalPlayerController());
19 19
19 12 20 <Engine.Engine> 0A 00 <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 1C <Engine.Engine.GetCurrentWorldInfo> 16 09 00 <Engine.WorldInfo.Game> 00 01 <Engine.WorldInfo.Game>
09 00 <Engine.GameInfo.BaseMutator> 00 01 <Engine.GameInfo.BaseMutator>
0A 00 <NullRef> 00 1B <Mutate>
1F <%t "XGBattle_SP.PostLevelLoaded">
19 01 <Engine.Actor.WorldInfo> 0A 00 <Engine.Actor.GetALocalPlayerController.ReturnValue> 00 1C <Engine.Actor.GetALocalPlayerController> 16
16
[#label1]

//if(Desc().ShouldSpawnMeldCanisters())
07 [@NoMeld] 19 1B <Desc> 16 0A 00 <XGBattleDesc.ShouldSpawnMeldCanisters.ReturnValue> 00 1B <ShouldSpawnMeldCanisters> 16
//InitMeldContainers()
1B <InitMeldContainers> 16
[#NoMeld]
//InitCapturePoints()
1B <InitCapturePoints> 16
//return
04 0B
//EOS
53
